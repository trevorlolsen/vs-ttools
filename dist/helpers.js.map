{"version":3,"sources":["../webpack/bootstrap","../external \"vscode\"",".././src/helpers.js","../external \"fs\"","../external \"path\"","../external \"child_process\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","vscode","fs","path","exec","workshop_all_project_settings","all_settings","workspace","workspaceFolders","wp","collapse_json","join","uri","fsPath","settings","si","existsSync","JSON","parse","readFileSync","temp_item","label","in_dir","out_path","push","run_shell_cmd","cmd","msg","error","stdout","stderr","window","showErrorMessage","message","showInformationMessage","return_keywords","auto_complete_path","getConfiguration","array_files_filtered","keywords","readdirSync","filter","keyword","endsWith","json_name_i","json_name","json_name_full","temp_obj","concat","apply","load_key_words","get_return_keywords","get_matched_keywords","word","editor","activeTextEditor","position","selection","active","selection_text","document","getText","pattern_text","range","getWordRangeAtPosition","toUpperCase","get_pattern_text","console","log","matched_keywords","correct_regex","RegExp","length","test","helper_create_web_view","body","str","ending","createWebviewPanel","substring","ViewColumn","Beside","enableCommandUris","webview","html","open_help","my_pick","help","saver_collapse","collpase_obj","ends_with","string_builders","all_files","saver_walk","current_path","writeFileSync","dir","results","forEach","file","stat","statSync","isDirectory","toLowerCase"],"mappings":"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","file":"helpers.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = require(\"vscode\");","\r\nexport const name = 'helpers';\r\nconst vscode = require('vscode');\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst { exec } = require(\"child_process\");\r\n\r\n\r\n\r\nexport function workshop_all_project_settings() {\r\n\r\n\r\n  let all_settings = [];\r\n\r\n  for(var i in vscode.workspace.workspaceFolders){\r\n\t\tvar wp = vscode.workspace.workspaceFolders[i];\r\n    \r\n\r\n    const collapse_json = path.join(wp.uri.fsPath, \"collapse.json\");\r\n    let settings = {  };\r\n    if (fs.existsSync(collapse_json)) {\r\n      \r\n      settings = JSON.parse(fs.readFileSync(collapse_json, 'utf8'));\r\n      \r\n\r\n    }\r\n\r\n    for(var si in settings){\r\n      let temp_item =settings[si];\r\n      temp_item.label = wp.name+\" | \"+ temp_item.label;\r\n      temp_item.in_dir = path.join(wp.uri.fsPath, temp_item.in_dir);\r\n      temp_item.out_path = path.join(wp.uri.fsPath, temp_item.out_path);\r\n      all_settings.push(temp_item);\r\n\r\n\r\n    }\r\n\r\n    \r\n\r\n\t}\r\n  return all_settings;\r\n\r\n \r\n\r\n}\r\n\r\n\r\nexport function run_shell_cmd(vscode, cmd, msg) {\r\n\r\n  \r\n  exec(cmd, (error, stdout, stderr) => {\r\n   \r\n    if (error) {\r\n      vscode.window.showErrorMessage(`error: ${error.message}`);\r\n      return;\r\n    }\r\n    if (stderr) {\r\n      vscode.window.showErrorMessage(`stderr: ${stderr}`);\r\n      return;\r\n    }\r\n    vscode.window.showInformationMessage(msg);\r\n    vscode.window.showInformationMessage(stdout);\r\n\r\n\r\n  \r\n  });\r\n \r\n  return true;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction load_key_words() {\r\n  const auto_complete_path = vscode.workspace.getConfiguration('help').get(\"directory\");\r\n  let array_files_filtered = [];\r\n  let keywords = [];\r\n  if (fs.existsSync(auto_complete_path)) {\r\n\r\n    let array_files = fs.readdirSync(auto_complete_path);\r\n    function checkWord(keyword) {\r\n      return keyword.endsWith('.json');\r\n    }\r\n\r\n    array_files_filtered = array_files.filter(checkWord);\r\n\r\n  } else {\r\n    vscode.window.showErrorMessage(\"Auto complete directory does not exist\");\r\n  }\r\n\r\n  for (let json_name_i in array_files_filtered) {\r\n    let json_name = array_files_filtered[json_name_i];\r\n\r\n    const json_name_full = path.join(auto_complete_path, json_name);\r\n\r\n    if (fs.existsSync(json_name_full)) {\r\n      const temp_obj = JSON.parse(fs.readFileSync(json_name_full, 'utf8'));\r\n      keywords.push(temp_obj);\r\n    }\r\n  }\r\n\r\n  var merged = [].concat.apply([], keywords);\r\n  return merged;\r\n}\r\n\r\n\r\n\r\nlet return_keywords = load_key_words();\r\n\r\n\r\nexport function get_return_keywords() {\r\n  return return_keywords;\r\n}\r\n\r\n\r\n\r\nfunction get_pattern_text(vscode) {\r\n\r\n  const editor = vscode.window.activeTextEditor;\r\n  const position = editor.selection.active;\r\n  const selection = editor.selection;\r\n  const selection_text = editor.document.getText(selection);\r\n\r\n  let pattern_text = \"\";\r\n  if (selection_text != \"\") {\r\n    pattern_text = selection_text;\r\n  } else {\r\n    const range = editor.document.getWordRangeAtPosition(position);\r\n    const word = editor.document.getText(range).toUpperCase();\r\n    pattern_text = word;\r\n  }\r\n\r\n  return pattern_text;\r\n\r\n}\r\n\r\nexport function get_matched_keywords(vscode) {\r\n\r\n  let word = get_pattern_text(vscode);\r\n  console.log(word);\r\n  let matched_keywords = [];\r\n  if(word !=\"\"){\r\n    const correct_regex = new RegExp(word, \"i\");\r\n\r\n    let keywords = get_return_keywords();\r\n\r\n    matched_keywords = [];\r\n\r\n    for (let i = 0; i < keywords.length; i++) {\r\n      if (correct_regex.test(keywords[i].label)) {\r\n        matched_keywords.push(keywords[i]);\r\n      }\r\n    }\r\n  }else{\r\n    matched_keywords = get_return_keywords();\r\n\r\n  }\r\n\r\n  return matched_keywords;\r\n\r\n}\r\n\r\n\r\nconst helper_text_truncate = function (str, length, ending) {\r\n  if (length == null) {\r\n      length = vscode.workspace.getConfiguration('helpTab').get(\"length\");\r\n  }\r\n  if (ending == null) {\r\n      ending = '...';\r\n  }\r\n  if (str.length > length) {\r\n      return str.substring(0, length - ending.length) + ending;\r\n  } else {\r\n      return str;\r\n  }\r\n};\r\n\r\nfunction helper_create_web_view(label, body) {\r\n  // Create and show a new webview\r\n  const panel = vscode.window.createWebviewPanel(\r\n      'sasHelp', // Identifies the type of the webview. Used internally\r\n      helper_text_truncate(label), // Title of the panel displayed to the user\r\n      vscode.ViewColumn.Beside, // Editor column to show the new webview panel in.\r\n      { enableCommandUris: true } // Webview options. More on these later.\r\n  );\r\n  panel.webview.html = body;\r\n\r\n}\r\n\r\nexport function open_help(my_pick) {\r\n  helper_create_web_view(\"Help: \" + my_pick.label, my_pick.help);\r\n}\r\n\r\n\r\n\r\n\r\nexport function saver_collapse(collpase_obj) {\r\n\r\n  let in_dir = collpase_obj.in_dir;\r\n  let out_path = collpase_obj.out_path;\r\n  let ends_with = collpase_obj.ends_with;\r\n  let string_builders = [];\r\n  const all_files = saver_walk(in_dir,ends_with);\r\n\r\n\r\n  for (let i = 0; i < all_files.length; i++) {\r\n      let current_path = all_files[i];\r\n      if (fs.existsSync(current_path) === true) {\r\n          string_builders.push(fs.readFileSync(current_path, 'utf8'));\r\n      }\r\n\r\n  }\r\n\r\n  fs.writeFileSync(out_path, string_builders.join('\\n'));\r\n\r\n  return true;\r\n\r\n}\r\n\r\nconst saver_walk = function (dir, ends_with) {\r\n  var results = [];\r\n  var list = fs.readdirSync(dir);\r\n  list.forEach(function (file) {\r\n      file = path.join(dir, file);\r\n      var stat = fs.statSync(file);\r\n      if (stat && stat.isDirectory()) {\r\n          /* Recurse into a subdirectory */\r\n          results = results.concat(saver_walk(file, ends_with));\r\n      } else {\r\n          /* Is a file */\r\n          if (file.toLowerCase().endsWith(ends_with.toLowerCase())) { results.push(file); }\r\n      }\r\n  });\r\n  return results;\r\n}","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"child_process\");"],"sourceRoot":""}